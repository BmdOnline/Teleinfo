!function(e){function t(e,t){return t*Math.floor(e/t)}function n(t,n,r,i){if(e.isFunction(t.strftime))return t.strftime(n);var a,o,s=function(e,t){return e=""+e,t=""+(null==t?"0":t),1===e.length?t+e:e},u=[],m=!1,c=t.getHours(),l=12>c;null==r&&(r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==i&&(i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),o=c>12?c-12:0===c?12:c;for(var h=0;h<n.length;++h)if(a=n.charAt(h),m){switch(a){case"a":a=""+i[t.getDay()];break;case"b":a=""+r[t.getMonth()];break;case"d":a=s(t.getDate());break;case"e":a=s(t.getDate()," ");break;case"h":case"H":a=s(c);break;case"I":a=s(o);break;case"l":a=s(o," ");break;case"m":a=s(t.getMonth()+1);break;case"M":a=s(t.getMinutes());break;case"q":a=""+(Math.floor(t.getMonth()/3)+1);break;case"S":a=s(t.getSeconds());break;case"y":a=s(t.getFullYear()%100);break;case"Y":a=""+t.getFullYear();break;case"p":a=l?"am":"pm";break;case"P":a=l?"AM":"PM";break;case"w":a=""+t.getDay()}u.push(a),m=!1}else"%"===a?m=!0:u.push(a);return u.join("")}function r(e){function t(e,t,n,r){e[t]=function(){return n[r].apply(n,arguments)}}var n={date:e};void 0!==e.strftime&&t(n,"strftime",e,"strftime"),t(n,"getTime",e,"getTime"),t(n,"setTime",e,"setTime");for(var r=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],i=0;i<r.length;i++)t(n,"get"+r[i],e,"getUTC"+r[i]),t(n,"set"+r[i],e,"setUTC"+r[i]);return n}function i(e,t){if("browser"===t.timezone)return new Date(e);if(t.timezone&&"utc"!==t.timezone){if("undefined"!=typeof timezoneJS&&"undefined"!=typeof timezoneJS.Date){var n=new timezoneJS.Date;return n.setTimezone(t.timezone),n.setTime(e),n}return r(new Date(e))}return r(new Date(e))}function a(r){r.hooks.processOptions.push(function(r){e.each(r.getAxes(),function(e,r){var a=r.options;"time"===a.mode&&(r.tickGenerator=function(e){var n=[],r=i(e.min,a),o=0,u=a.tickSize&&"quarter"===a.tickSize[1]||a.minTickSize&&"quarter"===a.minTickSize[1]?c:m;null!=a.minTickSize&&(o="number"==typeof a.tickSize?a.tickSize:a.minTickSize[0]*s[a.minTickSize[1]]);for(var l=0;l<u.length-1&&!(e.delta<(u[l][0]*s[u[l][1]]+u[l+1][0]*s[u[l+1][1]])/2&&u[l][0]*s[u[l][1]]>=o);++l);var h=u[l][0],f=u[l][1];if("year"===f){if(null!=a.minTickSize&&"year"===a.minTickSize[1])h=Math.floor(a.minTickSize[0]);else{var k=Math.pow(10,Math.floor(Math.log(e.delta/s.year)/Math.LN10)),g=e.delta/s.year/k;h=1.5>g?1:3>g?2:7.5>g?5:10,h*=k}1>h&&(h=1)}e.tickSize=a.tickSize||[h,f];var M=e.tickSize[0];f=e.tickSize[1];var d=M*s[f];"second"===f?r.setSeconds(t(r.getSeconds(),M)):"minute"===f?r.setMinutes(t(r.getMinutes(),M)):"hour"===f?r.setHours(t(r.getHours(),M)):"month"===f?r.setMonth(t(r.getMonth(),M)):"quarter"===f?r.setMonth(3*t(r.getMonth()/3,M)):"year"===f&&r.setFullYear(t(r.getFullYear(),M)),r.setMilliseconds(0),d>=s.minute&&r.setSeconds(0),d>=s.hour&&r.setMinutes(0),d>=s.day&&r.setHours(0),d>=4*s.day&&r.setDate(1),d>=2*s.month&&r.setMonth(t(r.getMonth(),3)),d>=2*s.quarter&&r.setMonth(t(r.getMonth(),6)),d>=s.year&&r.setMonth(0);var S,y=0,z=Number.NaN;do if(S=z,z=r.getTime(),n.push(z),"month"===f||"quarter"===f)if(1>M){r.setDate(1);var p=r.getTime();r.setMonth(r.getMonth()+("quarter"===f?3:1));var v=r.getTime();r.setTime(z+y*s.hour+(v-p)*M),y=r.getHours(),r.setHours(0)}else r.setMonth(r.getMonth()+M*("quarter"===f?3:1));else"year"===f?r.setFullYear(r.getFullYear()+M):r.setTime(z+d);while(z<e.max&&z!==S);return n},r.tickFormatter=function(e,t){var r=i(e,t.options);if(null!=a.timeformat)return n(r,a.timeformat,a.monthNames,a.dayNames);var o,u=t.options.tickSize&&"quarter"===t.options.tickSize[1]||t.options.minTickSize&&"quarter"===t.options.minTickSize[1],m=t.tickSize[0]*s[t.tickSize[1]],c=t.max-t.min,l=a.twelveHourClock?" %p":"",h=a.twelveHourClock?"%I":"%H";o=m<s.minute?h+":%M:%S"+l:m<s.day?c<2*s.day?h+":%M"+l:"%b %d "+h+":%M"+l:m<s.month?"%b %d":u&&m<s.quarter||!u&&m<s.year?c<s.year?"%b":"%b %Y":u&&m<s.year?c<s.year?"Q%q":"Q%q %Y":"%Y";var f=n(r,o,a.monthNames,a.dayNames);return f})})})}var o={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},s={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},u=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],m=u.concat([[3,"month"],[6,"month"],[1,"year"]]),c=u.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);e.plot.plugins.push({init:a,options:o,name:"time",version:"1.0"}),e.plot.formatDate=n}(jQuery);