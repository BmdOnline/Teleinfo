!function(n){function e(e){function t(n,t){var o=e.offset();o.left=n.pageX-o.left,o.top=n.pageY-o.top,t?e.zoomOut({center:o}):e.zoom({center:o})}function o(n,e){return n.preventDefault(),t(n,0>e),!1}function a(n){if(1!==n.which)return!1;var t=e.getPlaceholder().css("cursor");t&&(l=t),e.getPlaceholder().css("cursor",e.getOptions().pan.cursor),c=n.pageX,g=n.pageY}function i(n){var t=e.getOptions().pan.frameRate;!m&&t&&(m=setTimeout(function(){e.pan({left:c-n.pageX,top:g-n.pageY,dragEnded:!1}),c=n.pageX,g=n.pageY,m=null},1/t*1e3))}function r(n){m&&(clearTimeout(m),m=null),e.getPlaceholder().css("cursor",l),e.pan({left:c-n.pageX,top:g-n.pageY,dragEnded:!0})}function u(n,e){var u=n.getOptions();u.zoom.interactive&&(e[u.zoom.trigger](t),e.mousewheel(o)),u.pan.interactive&&(e.bind("dragstart",{distance:10},a),e.bind("drag",i),e.bind("dragend",r))}function p(n,e){e.unbind(n.getOptions().zoom.trigger,t),e.unbind("mousewheel",o),e.unbind("dragstart",a),e.unbind("drag",i),e.unbind("dragend",r),m&&clearTimeout(m)}var l="default",c=0,g=0,m=null;e.zoomOut=function(n){n||(n={}),n.amount||(n.amount=e.getOptions().zoom.amount),n.amount=1/n.amount,e.zoom(n)},e.zoom=function(t){t||(t={});var o=t.center,a=t.amount||e.getOptions().zoom.amount,i=e.width(),r=e.height();o||(o={left:i/2,top:r/2});var u=o.left/i,p=o.top/r,l={x:{min:o.left-u*i/a,max:o.left+(1-u)*i/a},y:{min:o.top-p*r/a,max:o.top+(1-p)*r/a}};n.each(e.getAxes(),function(n,e){var t=e.options,o=l[e.direction].min,i=l[e.direction].max,r=t.zoomRange,u=t.panRange;if(r!==!1){if(o=e.c2p(o),i=e.c2p(i),o>i){var p=o;o=i,i=p}u&&(null!=u[0]&&o<u[0]&&(o=u[0]),null!=u[1]&&i>u[1]&&(i=u[1]));var c=i-o;r&&(null!=r[0]&&c<r[0]&&a>1||null!=r[1]&&c>r[1]&&1>a)||(t.min=o,t.max=i)}}),e.setupGrid(),e.draw(),t.preventEvent||e.getPlaceholder().trigger("plotzoom",[e,t])},e.pan=function(t){var o={x:+t.left,y:+t.top};isNaN(o.x)&&(o.x=0),isNaN(o.y)&&(o.y=0),n.each(e.getAxes(),function(n,e){var t=e.options,a=e.c2p(e.p2c(e.min)+r),i=e.c2p(e.p2c(e.max)+r),r=o[e.direction],u=t.panRange;u!==!1&&(u&&(null!=u[0]&&u[0]>a&&(r=u[0]-a,a+=r,i+=r),null!=u[1]&&u[1]<i&&(r=u[1]-i,a+=r,i+=r)),t.min=a,t.max=i)}),e.setupGrid(),e.draw(),t.preventEvent||e.getPlaceholder().trigger("plotpan",[e,t])},e.hooks.bindEvents.push(u),e.hooks.shutdown.push(p)}var t={xaxis:{zoomRange:null,panRange:null},zoom:{interactive:!1,trigger:"dblclick",amount:1.5},pan:{interactive:!1,cursor:"move",frameRate:20}};n.plot.plugins.push({init:e,options:t,name:"navigate",version:"1.3"})}(jQuery);